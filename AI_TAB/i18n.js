(() => {
  const TEXT_MAP = {
    // Popup UI
    "popup.title": "Tab Organizer",
    "popup.description": "Keep your tabs tidy and organized.",
    "popup.buttons.quick": "🚀 Quick Organize",
    "popup.buttons.chrome": "💻 Chrome AI Organize",
    "popup.buttons.online": "✨ Online AI Organize",
    "popup.buttons.settings": "⚙️ Settings",
    "popup.buttons.ungroup": "🔄 Ungroup All Tabs",
    "popup.buttons.ungroupSingle": "Ungroup",
    "popup.divider.or": "OR",
    "popup.api.description": "Enter your Google Gemini API Key for AI-powered grouping.",
    "popup.api.label": "Gemini API Key:",
    "popup.api.placeholder": "Paste your API Key here",
    "popup.api.help": "🔗 How to get API key",
    "popup.api.enable": "ℹ️ How to enable built-in AI",
    "popup.groups.heading": "Current Tab Groups",
    "popup.groups.loading": "Loading groups…",
    "popup.groups.unable": "Unable to load groups.",
    "popup.groups.none": "No tab groups in this window.",
    "popup.groups.noinfo": "No groups information available.",
    "popup.groups.fallbackTitle": "Group {id}",
    "popup.groups.tabCountSingular": "{count} tab",
    "popup.groups.tabCountPlural": "{count} tabs",

    // Status and messages
    "status.quickOrganize": "Organizing tabs quickly...",
    "status.chromeOrganize": "Organizing tabs with Chrome AI...",
    "status.chromeFallback": "Chrome AI grouping failed. Falling back to quick organize.",
    "status.onlineOrganize": "Initiating online AI organization...",
    "status.needApiKey": "Please enter your Gemini API Key for AI grouping.",
    "status.apiSaved": "API Key saved successfully!",
    "status.apiCleared": "API key cleared.",
    "status.apiInvalid": "Please enter a valid API Key.",
    "status.removeGroups": "Removing groups from current window...",
    "status.genericError": "An error occurred, please try again.",
    "status.unknownResponse": "Unknown response from background script.",
    "status.invalidGroup": "Invalid group identifier.",
    "status.noUngrouped": "No ungrouped tabs to organize.",
    "status.noGroupsFound": "No grouped tabs found.",
    "status.chromePreparing": "Preparing Chrome AI model...",
    "status.chromeClassifying": "Classifying tabs with Chrome AI...",
    "status.chromeDownloading": "Downloading Chrome AI model... {percent}%",
    "status.translatorDownloading": "Downloading translator... {percent}%",
    "status.openSettingsFailed": "Unable to open settings page.",
    "status.chromeUnsupported": "Prompt API not supported in this browser.",
    "status.chromeUnavailable": "Prompt API unavailable on this device.",
    "status.chromeActivation": "Please click again to download the model (user activation required).",
    "status.translationUnavailable": "Translator API is not available.",
    "status.translationFallback": "Language translation unavailable; keeping English.",
    "status.groupingComplete": "Grouping complete.",
    "status.quickComplete": "Quick Organize Complete!",
    "status.onlineComplete": "AI Smart Organize Complete!",
    "status.chromeComplete": "Chrome AI Organize Complete!",
    "status.noGroupedTabs": "No grouped tabs found.",
    "status.chromeUnavailableFallback": "Chrome AI unavailable. Used Quick Organize instead.",
    "status.ungroupSelected": "Ungrouping selected group...",

    // Options UI
    "options.title": "API Key Settings",
    "options.description": "Manage your Google Gemini API Key. This key enables AI Smart Organize to classify tabs using page content.",
    "options.modelHeading": "Model Information",
    "options.languageLabel": "Grouping language",
    "options.languageNote": "Choose the language used for tab group titles. When set to “Use browser language”, we follow Chrome’s current UI language.",
    "options.api.label": "Gemini API Key",
    "options.api.placeholder": "Paste your API key here",
    "options.buttons.save": "Save Key",
    "options.buttons.clear": "Clear Key",
    "options.buttons.show": "Show",
    "options.buttons.hide": "Hide",
    "options.help.key": "How to get a Gemini API key",
    "options.help.enable": "How to enable built-in AI",

    // Options status
    "options.status.languageUpdated": "Grouping language updated.",
    "options.status.languageFailed": "Failed to update language preference.",
    "options.status.translationFailed": "An error occurred during translation. Using English.",
    "options.status.loadKeyFailed": "Unable to load existing API key.",
    "options.status.saveKeyFailed": "Failed to save API key. Please try again.",
    "options.status.clearKeyFailed": "Failed to clear API key. Please try again.",
    "options.status.translationDownloading": "Downloading translator... {percent}%",
    "options.status.enterApiBeforeSaving": "Please enter a valid API key before saving.",
    "options.status.saveSuccess": "API key saved successfully.",
    "options.status.saveFailed": "Failed to save API key. Please try again.",
    "options.status.clearSuccess": "API key cleared.",
    "options.status.clearFailed": "Failed to clear API key. Please try again.",

    // Settings Picker values
    "options.language.browser": "Use browser language",
    "options.language.en": "English",
    "options.language.ja": "日本語 (Japanese)",
    "options.language.zhCN": "简体中文 (Chinese Simplified)",
    "options.language.zhTW": "繁體中文 (Chinese Traditional)",
    "options.language.ko": "한국어 (Korean)",
    "options.language.fr": "Français (French)",
    "options.language.de": "Deutsch (German)",
    "options.language.es": "Español (Spanish)",
    "options.language.pt": "Português (Portuguese)"
  };

  const zhCN = {
    "Tab Organizer": "标签整理器",
    "Keep your tabs tidy and organized.": "让你的标签页保持整洁有序。",
    "🚀 Quick Organize": "🚀 快速整理",
    "💻 Chrome AI Organize": "💻 Chrome AI 整理",
    "✨ Online AI Organize": "✨ 在线 AI 整理",
    "⚙️ Settings": "⚙️ 设置",
    "🔄 Ungroup All Tabs": "🔄 取消所有分组",
    "Ungroup": "取消分组",
    "OR": "或",
    "Enter your Google Gemini API Key for AI-powered grouping.": "请输入 Google Gemini API Key，以使用 AI 分组。",
    "Gemini API Key:": "Gemini API Key：",
    "Paste your API Key here": "在此粘贴你的 API Key",
    "🔗 How to get API key": "🔗 如何获取 API Key",
    "ℹ️ How to enable built-in AI": "ℹ️ 如何启用内置 AI",
    "Current Tab Groups": "当前标签分组",
    "Loading groups…": "正在加载分组…",
    "Unable to load groups.": "无法加载分组。",
    "No tab groups in this window.": "此窗口中没有标签分组。",
    "No groups information available.": "没有可用的分组信息。",
    "Group {id}": "分组 {id}",
    "{count} tab": "{count} 个标签页",
    "{count} tabs": "{count} 个标签页",
    "Organizing tabs quickly...": "正在快速整理标签页…",
    "Organizing tabs with Chrome AI...": "正在使用 Chrome AI 整理标签页…",
    "Chrome AI grouping failed. Falling back to quick organize.": "Chrome AI 整理失败，已改用快速整理。",
    "Initiating online AI organization...": "正在启动在线 AI 整理…",
    "Please enter your Gemini API Key for AI grouping.": "请先输入 Gemini API Key 以使用 AI 整理。",
    "API Key saved successfully!": "API Key 保存成功！",
    "API key cleared.": "已清除 API Key。",
    "Please enter a valid API Key.": "请输入有效的 API Key。",
    "Removing groups from current window...": "正在移除此窗口中的分组…",
    "An error occurred, please try again.": "发生错误，请重试。",
    "Unknown response from background script.": "后台脚本返回了未知响应。",
    "Invalid group identifier.": "分组标识无效。",
    "No ungrouped tabs to organize.": "没有需要整理的未分组标签页。",
    "No grouped tabs found.": "未找到已分组的标签页。",
    "Preparing Chrome AI model...": "正在准备 Chrome AI 模型…",
    "Classifying tabs with Chrome AI...": "正在使用 Chrome AI 分类标签页…",
    "Downloading Chrome AI model... {percent}%": "正在下载 Chrome AI 模型… {percent}%",
    "Downloading translator... {percent}%": "正在下载翻译模型… {percent}%",
    "Unable to open settings page.": "无法打开设置页面。",
    "Prompt API not supported in this browser.": "此浏览器不支持 Prompt API。",
    "Prompt API unavailable on this device.": "此设备上无法使用 Prompt API。",
    "Please click again to download the model (user activation required).": "请再次点击以下载模型（需要用户操作）。",
    "Translator API is not available.": "Translator API 不可用。",
    "Language translation unavailable; keeping English.": "无法翻译语言，将保持英语。",
    "Grouping complete.": "整理完成。",
    "Quick Organize Complete!": "快速整理完成！",
    "AI Smart Organize Complete!": "在线 AI 整理完成！",
    "Chrome AI Organize Complete!": "Chrome AI 整理完成！",
    "Chrome AI unavailable. Used Quick Organize instead.": "Chrome AI 不可用，已改用快速整理。",
    "Ungrouping selected group...": "正在取消所选分组…",
    "API Key Settings": "API Key 设置",
    "Manage your Google Gemini API Key. This key enables AI Smart Organize to classify tabs using page content.": "管理你的 Google Gemini API Key。该密钥可让 AI Smart Organize 使用页面内容对标签页进行分类。",
    "Model Information": "模型信息",
    "Grouping language": "分组语言",
    "Choose the language used for tab group titles. When set to “Use browser language”, we follow Chrome’s current UI language.": "选择用于标签组标题的语言。若选择“使用浏览器语言”，我们将跟随 Chrome 当前的界面语言。",
    "Gemini API Key": "Gemini API Key",
    "Paste your API key here": "在此粘贴你的 API Key",
    "Save Key": "保存密钥",
    "Clear Key": "清除密钥",
    "Show": "显示",
    "Hide": "隐藏",
    "How to get a Gemini API key": "如何获取 Gemini API Key",
    "How to enable built-in AI": "如何启用内置 AI",
    "Grouping language updated.": "分组语言已更新。",
    "Failed to update language preference.": "无法保存语言偏好。",
    "An error occurred during translation. Using English.": "翻译时出现错误，将使用英语。",
    "Unable to load existing API key.": "无法加载已保存的 API Key。",
    "Failed to save API key. Please try again.": "无法保存 API Key，请重试。",
    "Failed to clear API key. Please try again.": "无法清除 API Key，请重试。",
    "Please enter a valid API key before saving.": "保存前请输入有效的 API Key。",
    "API key saved successfully.": "API Key 保存成功。",
    "Failed to save API key. Please try again.": "无法保存 API Key，请重试。",
    "API key cleared.": "已清除 API Key。",
    "Failed to clear API key. Please try again.": "无法清除 API Key，请重试。",
    "Use browser language": "使用浏览器语言",
    "English": "英语",
    "日本語 (Japanese)": "日语 (Japanese)",
    "简体中文 (Chinese Simplified)": "简体中文",
    "繁體中文 (Chinese Traditional)": "繁体中文",
    "한국어 (Korean)": "韩语 (Korean)",
    "Français (French)": "法语 (French)",
    "Deutsch (German)": "德语 (German)",
    "Español (Spanish)": "西班牙语 (Spanish)",
    "Português (Portuguese)": "葡萄牙语 (Portuguese)"
  };

  const zhTW = {
    "Tab Organizer": "分頁整理器",
    "Keep your tabs tidy and organized.": "讓你的分頁保持整潔有序。",
    "🚀 Quick Organize": "🚀 快速整理",
    "💻 Chrome AI Organize": "💻 Chrome AI 整理",
    "✨ Online AI Organize": "✨ 線上 AI 整理",
    "⚙️ Settings": "⚙️ 設定",
    "🔄 Ungroup All Tabs": "🔄 取消所有分組",
    "Ungroup": "取消分組",
    "OR": "或",
    "Enter your Google Gemini API Key for AI-powered grouping.": "請輸入 Google Gemini API Key，以使用 AI 分組。",
    "Gemini API Key:": "Gemini API Key：",
    "Paste your API Key here": "在此貼上你的 API Key",
    "🔗 How to get API key": "🔗 如何取得 API Key",
    "ℹ️ How to enable built-in AI": "ℹ️ 如何啟用內建 AI",
    "Current Tab Groups": "目前的分組",
    "Loading groups…": "正在載入分組…",
    "Unable to load groups.": "無法載入分組。",
    "No tab groups in this window.": "此視窗沒有分組。",
    "No groups information available.": "沒有可用的分組資訊。",
    "Group {id}": "群組 {id}",
    "{count} tab": "{count} 個分頁",
    "{count} tabs": "{count} 個分頁",
    "Organizing tabs quickly...": "正在快速整理分頁…",
    "Organizing tabs with Chrome AI...": "正在使用 Chrome AI 整理分頁…",
    "Chrome AI grouping failed. Falling back to quick organize.": "Chrome AI 整理失敗，已改用快速整理。",
    "Initiating online AI organization...": "正在啟動線上 AI 整理…",
    "Please enter your Gemini API Key for AI grouping.": "請先輸入 Gemini API Key 以使用 AI 整理。",
    "API Key saved successfully!": "API Key 已成功儲存！",
    "API key cleared.": "已清除 API Key。",
    "Please enter a valid API Key.": "請輸入有效的 API Key。",
    "Removing groups from current window...": "正在移除此視窗中的分組…",
    "An error occurred, please try again.": "發生錯誤，請再試一次。",
    "Unknown response from background script.": "背景指令傳回未知回應。",
    "Invalid group identifier.": "分組代號無效。",
    "No ungrouped tabs to organize.": "沒有需要整理的未分組分頁。",
    "No grouped tabs found.": "未找到已分組的分頁。",
    "Preparing Chrome AI model...": "正在準備 Chrome AI 模型…",
    "Classifying tabs with Chrome AI...": "正在使用 Chrome AI 分類分頁…",
    "Downloading Chrome AI model... {percent}%": "正在下載 Chrome AI 模型… {percent}%",
    "Downloading translator... {percent}%": "正在下載翻譯模型… {percent}%",
    "Unable to open settings page.": "無法開啟設定頁面。",
    "Prompt API not supported in this browser.": "此瀏覽器不支援 Prompt API。",
    "Prompt API unavailable on this device.": "此裝置無法使用 Prompt API。",
    "Please click again to download the model (user activation required).": "請再次點擊以下載模型（需要使用者操作）。",
    "Translator API is not available.": "Translator API 無法使用。",
    "Language translation unavailable; keeping English.": "無法翻譯語言，將維持英文。",
    "Grouping complete.": "整理完成。",
    "Quick Organize Complete!": "快速整理完成！",
    "AI Smart Organize Complete!": "線上 AI 整理完成！",
    "Chrome AI Organize Complete!": "Chrome AI 整理完成！",
    "Chrome AI unavailable. Used Quick Organize instead.": "Chrome AI 無法使用，已改用快速整理。",
    "Ungrouping selected group...": "正在取消所選分組…",
    "API Key Settings": "API Key 設定",
    "Manage your Google Gemini API Key. This key enables AI Smart Organize to classify tabs using page content.": "管理你的 Google Gemini API Key。此金鑰可讓 AI Smart Organize 依頁面內容分類分頁。",
    "Model Information": "模型資訊",
    "Grouping language": "分組語言",
    "Choose the language used for tab group titles. When set to “Use browser language”, we follow Chrome’s current UI language.": "選擇用於分組標題的語言。若選擇「使用瀏覽器語言」，我們會遵循 Chrome 目前的介面語言。",
    "Gemini API Key": "Gemini API Key",
    "Paste your API key here": "在此貼上你的 API Key",
    "Save Key": "儲存金鑰",
    "Clear Key": "清除金鑰",
    "Show": "顯示",
    "Hide": "隱藏",
    "How to get a Gemini API key": "如何取得 Gemini API Key",
    "How to enable built-in AI": "如何啟用內建 AI",
    "Grouping language updated.": "分組語言已更新。",
    "Failed to update language preference.": "無法儲存語言偏好。",
    "An error occurred during translation. Using English.": "翻譯時發生錯誤，將使用英文。",
    "Unable to load existing API key.": "無法載入既有的 API Key。",
    "Failed to save API key. Please try again.": "無法儲存 API Key，請再試一次。",
    "Failed to clear API key. Please try again.": "無法清除 API Key，請再試一次。",
    "Please enter a valid API key before saving.": "儲存前請輸入有效的 API Key。",
    "API key saved successfully.": "API Key 已成功儲存。",
    "Failed to save API key. Please try again.": "無法儲存 API Key，請再試一次。",
    "API key cleared.": "已清除 API Key。",
    "Failed to clear API key. Please try again.": "無法清除 API Key，請再試一次。",
    "Use browser language": "使用瀏覽器語言",
    "English": "英語",
    "日本語 (Japanese)": "日文 (Japanese)",
    "简体中文 (Chinese Simplified)": "簡體中文",
    "繁體中文 (Chinese Traditional)": "繁體中文",
    "한국어 (Korean)": "韓文 (Korean)",
    "Français (French)": "法文 (French)",
    "Deutsch (German)": "德文 (German)",
    "Español (Spanish)": "西班牙文 (Spanish)",
    "Português (Portuguese)": "葡萄牙文 (Portuguese)"
  };

  const jaJP = {
    "Tab Organizer": "タブ整理ツール",
    "Keep your tabs tidy and organized.": "タブをすっきり整理しましょう。",
    "🚀 Quick Organize": "🚀 クイック整理",
    "💻 Chrome AI Organize": "💻 Chrome AI 整理",
    "✨ Online AI Organize": "✨ オンライン AI 整理",
    "⚙️ Settings": "⚙️ 設定",
    "🔄 Ungroup All Tabs": "🔄 すべてのグループを解除",
    "Ungroup": "グループ解除",
    "OR": "または",
    "Enter your Google Gemini API Key for AI-powered grouping.": "AI グループ化のために Google Gemini API キーを入力してください。",
    "Gemini API Key:": "Gemini API キー:",
    "Paste your API Key here": "ここに API キーを貼り付けてください",
    "🔗 How to get API key": "🔗 API キーの取得方法",
    "ℹ️ How to enable built-in AI": "ℹ️ 内蔵 AI を有効にする方法",
    "Current Tab Groups": "現在のタブグループ",
    "Loading groups…": "グループを読み込み中…",
    "Unable to load groups.": "グループを読み込めません。",
    "No tab groups in this window.": "このウィンドウにはタブグループがありません。",
    "No groups information available.": "利用できるグループ情報がありません。",
    "Group {id}": "グループ {id}",
    "{count} tab": "{count} 個のタブ",
    "{count} tabs": "{count} 個のタブ",
    "Organizing tabs quickly...": "タブをクイック整理中…",
    "Organizing tabs with Chrome AI...": "Chrome AI でタブを整理中…",
    "Chrome AI grouping failed. Falling back to quick organize.": "Chrome AI の整理に失敗したため、クイック整理に切り替えました。",
    "Initiating online AI organization...": "オンライン AI 整理を開始しています…",
    "Please enter your Gemini API Key for AI grouping.": "AI 整理を行うには Gemini API キーを入力してください。",
    "API Key saved successfully!": "API キーを保存しました！",
    "API key cleared.": "API キーを削除しました。",
    "Please enter a valid API Key.": "有効な API キーを入力してください。",
    "Removing groups from current window...": "このウィンドウのグループを解除しています…",
    "An error occurred, please try again.": "エラーが発生しました。もう一度お試しください。",
    "Unknown response from background script.": "バックグラウンド スクリプトから不明な応答が返されました。",
    "Invalid group identifier.": "グループ ID が無効です。",
    "No ungrouped tabs to organize.": "整理する未グループ化のタブはありません。",
    "No grouped tabs found.": "グループ化されたタブが見つかりません。",
    "Preparing Chrome AI model...": "Chrome AI モデルを準備しています…",
    "Classifying tabs with Chrome AI...": "Chrome AI でタブを分類しています…",
    "Downloading Chrome AI model... {percent}%": "Chrome AI モデルをダウンロード中… {percent}%",
    "Downloading translator... {percent}%": "翻訳モデルをダウンロード中… {percent}%",
    "Unable to open settings page.": "設定ページを開けませんでした。",
    "Prompt API not supported in this browser.": "このブラウザでは Prompt API がサポートされていません。",
    "Prompt API unavailable on this device.": "このデバイスでは Prompt API を利用できません。",
    "Please click again to download the model (user activation required).": "モデルをダウンロードするには再度クリックしてください（ユーザー操作が必要です）。",
    "Translator API is not available.": "Translator API を使用できません。",
    "Language translation unavailable; keeping English.": "翻訳を利用できません。英語のまま表示します。",
    "Grouping complete.": "整理が完了しました。",
    "Quick Organize Complete!": "クイック整理が完了しました！",
    "AI Smart Organize Complete!": "オンライン AI 整理が完了しました！",
    "Chrome AI Organize Complete!": "Chrome AI 整理が完了しました！",
    "Chrome AI unavailable. Used Quick Organize instead.": "Chrome AI を利用できません。クイック整理に切り替えました。",
    "Ungrouping selected group...": "選択したグループを解除しています…",
    "API Key Settings": "API キー設定",
    "Manage your Google Gemini API Key. This key enables AI Smart Organize to classify tabs using page content.": "Google Gemini API キーを管理します。このキーにより、AI Smart Organize がページ内容を使ってタブを分類できます。",
    "Model Information": "モデル情報",
    "Grouping language": "グループの表示言語",
    "Choose the language used for tab group titles. When set to “Use browser language”, we follow Chrome’s current UI language.": "タブ グループ名に使用する言語を選択します。「ブラウザの言語を使用」を選ぶと Chrome の表示言語を使用します。",
    "Gemini API Key": "Gemini API キー",
    "Paste your API key here": "ここに API キーを貼り付けてください",
    "Save Key": "キーを保存",
    "Clear Key": "キーを削除",
    "Show": "表示",
    "Hide": "非表示",
    "How to get a Gemini API key": "Gemini API キーの取得方法",
    "How to enable built-in AI": "内蔵 AI を有効にする方法",
    "Grouping language updated.": "グループ言語を更新しました。",
    "Failed to update language preference.": "言語設定を保存できませんでした。",
    "An error occurred during translation. Using English.": "翻訳中にエラーが発生しました。英語を使用します。",
    "Unable to load existing API key.": "保存済みの API キーを読み込めませんでした。",
    "Failed to save API key. Please try again.": "API キーを保存できませんでした。もう一度お試しください。",
    "Failed to clear API key. Please try again.": "API キーを削除できませんでした。もう一度お試しください。",
    "Please enter a valid API key before saving.": "保存する前に有効な API キーを入力してください。",
    "API key saved successfully.": "API キーを保存しました。",
    "Failed to save API key. Please try again.": "API キーを保存できませんでした。もう一度お試しください。",
    "API key cleared.": "API キーを削除しました。",
    "Failed to clear API key. Please try again.": "API キーを削除できませんでした。もう一度お試しください。",
    "Use browser language": "ブラウザの言語を使用",
    "English": "英語",
    "日本語 (Japanese)": "日本語",
    "简体中文 (Chinese Simplified)": "簡体字中国語",
    "繁體中文 (Chinese Traditional)": "繁体字中国語",
    "한국어 (Korean)": "韓国語",
    "Français (French)": "フランス語",
    "Deutsch (German)": "ドイツ語",
    "Español (Spanish)": "スペイン語",
    "Português (Portuguese)": "ポルトガル語"
  };

  const koKR = {
    "Tab Organizer": "탭 정리 도우미",
    "Keep your tabs tidy and organized.": "탭을 깔끔하고 체계적으로 유지하세요.",
    "🚀 Quick Organize": "🚀 빠른 정리",
    "💻 Chrome AI Organize": "💻 Chrome AI 정리",
    "✨ Online AI Organize": "✨ 온라인 AI 정리",
    "⚙️ Settings": "⚙️ 설정",
    "🔄 Ungroup All Tabs": "🔄 모든 그룹 해제",
    "Ungroup": "그룹 해제",
    "OR": "또는",
    "Enter your Google Gemini API Key for AI-powered grouping.": "AI 그룹화를 위해 Google Gemini API 키를 입력하세요.",
    "Gemini API Key:": "Gemini API 키:",
    "Paste your API Key here": "여기에 API 키를 붙여넣으세요",
    "🔗 How to get API key": "🔗 API 키 얻는 방법",
    "ℹ️ How to enable built-in AI": "ℹ️ 내장 AI를 활성화하는 방법",
    "Current Tab Groups": "현재 탭 그룹",
    "Loading groups…": "그룹을 불러오는 중…",
    "Unable to load groups.": "그룹을 불러올 수 없습니다.",
    "No tab groups in this window.": "이 창에는 탭 그룹이 없습니다.",
    "No groups information available.": "사용 가능한 그룹 정보가 없습니다.",
    "Group {id}": "{id}번 그룹",
    "{count} tab": "{count}개 탭",
    "{count} tabs": "{count}개 탭",
    "Organizing tabs quickly...": "탭을 빠르게 정리하는 중…",
    "Organizing tabs with Chrome AI...": "Chrome AI로 탭을 정리하는 중…",
    "Chrome AI grouping failed. Falling back to quick organize.": "Chrome AI 정리에 실패했습니다. 빠른 정리로 전환합니다.",
    "Initiating online AI organization...": "온라인 AI 정리를 시작하는 중…",
    "Please enter your Gemini API Key for AI grouping.": "AI 정리를 사용하려면 Gemini API 키를 입력하세요.",
    "API Key saved successfully!": "API 키가 성공적으로 저장되었습니다!",
    "API key cleared.": "API 키를 삭제했습니다.",
    "Please enter a valid API Key.": "유효한 API 키를 입력하세요.",
    "Removing groups from current window...": "현재 창에서 그룹을 해제하는 중…",
    "An error occurred, please try again.": "오류가 발생했습니다. 다시 시도하세요.",
    "Unknown response from background script.": "백그라운드 스크립트에서 알 수 없는 응답이 반환되었습니다.",
    "Invalid group identifier.": "잘못된 그룹 식별자입니다.",
    "No ungrouped tabs to organize.": "정리할 미분류 탭이 없습니다.",
    "No grouped tabs found.": "그룹화된 탭을 찾을 수 없습니다.",
    "Preparing Chrome AI model...": "Chrome AI 모델을 준비하는 중…",
    "Classifying tabs with Chrome AI...": "Chrome AI가 탭을 분류하는 중…",
    "Downloading Chrome AI model... {percent}%": "Chrome AI 모델을 다운로드 중… {percent}%",
    "Downloading translator... {percent}%": "번역 모델을 다운로드 중… {percent}%",
    "Unable to open settings page.": "설정 페이지를 열 수 없습니다.",
    "Prompt API not supported in this browser.": "이 브라우저는 Prompt API를 지원하지 않습니다.",
    "Prompt API unavailable on this device.": "이 기기에서는 Prompt API를 사용할 수 없습니다.",
    "Please click again to download the model (user activation required).": "모델을 다운로드하려면 다시 클릭해 주세요(사용자 동작 필요).",
    "Translator API is not available.": "Translator API를 사용할 수 없습니다.",
    "Language translation unavailable; keeping English.": "언어 번역을 사용할 수 없습니다. 영어를 유지합니다.",
    "Grouping complete.": "정리가 완료되었습니다.",
    "Quick Organize Complete!": "빠른 정리가 완료되었습니다!",
    "AI Smart Organize Complete!": "온라인 AI 정리가 완료되었습니다!",
    "Chrome AI Organize Complete!": "Chrome AI 정리가 완료되었습니다!",
    "Chrome AI unavailable. Used Quick Organize instead.": "Chrome AI를 사용할 수 없어 빠른 정리로 전환했습니다.",
    "Ungrouping selected group...": "선택한 그룹을 해제하는 중…",
    "API Key Settings": "API 키 설정",
    "Manage your Google Gemini API Key. This key enables AI Smart Organize to classify tabs using page content.": "Google Gemini API 키를 관리합니다. 이 키로 AI Smart Organize가 페이지 내용을 사용해 탭을 분류합니다.",
    "Model Information": "모델 정보",
    "Grouping language": "그룹 언어",
    "Choose the language used for tab group titles. When set to “Use browser language”, we follow Chrome’s current UI language.": "탭 그룹 제목에 사용할 언어를 선택하세요. “브라우저 언어 사용”을 선택하면 Chrome의 현재 UI 언어를 따릅니다.",
    "Gemini API Key": "Gemini API 키",
    "Paste your API key here": "여기에 API 키를 붙여넣으세요",
    "Save Key": "키 저장",
    "Clear Key": "키 삭제",
    "Show": "표시",
    "Hide": "숨기기",
    "How to get a Gemini API key": "Gemini API 키 얻는 방법",
    "How to enable built-in AI": "내장 AI를 활성화하는 방법",
    "Grouping language updated.": "그룹 언어가 업데이트되었습니다.",
    "Failed to update language preference.": "언어 설정을 저장하지 못했습니다.",
    "An error occurred during translation. Using English.": "번역 중 오류가 발생했습니다. 영어를 사용합니다.",
    "Unable to load existing API key.": "기존 API 키를 불러오지 못했습니다.",
    "Failed to save API key. Please try again.": "API 키를 저장하지 못했습니다. 다시 시도하세요。",
    "Failed to clear API key. Please try again.": "API 키를 삭제하지 못했습니다. 다시 시도하세요。",
    "Please enter a valid API key before saving.": "저장하기 전에 유효한 API 키를 입력하세요。",
    "API key saved successfully.": "API 키가 저장되었습니다。",
    "Failed to save API key. Please try again.": "API 키를 저장하지 못했습니다. 다시 시도하세요。",
    "API key cleared.": "API 키를 삭제했습니다。",
    "Failed to clear API key. Please try again.": "API 키를 삭제하지 못했습니다. 다시 시도하세요。",
    "Use browser language": "브라우저 언어 사용",
    "English": "영어",
    "日本語 (Japanese)": "일본어 (Japanese)",
    "简体中文 (Chinese Simplified)": "중국어 간체",
    "繁體中文 (Chinese Traditional)": "중국어 번체",
    "한국어 (Korean)": "한국어",
    "Français (French)": "프랑스어",
    "Deutsch (German)": "독일어",
    "Español (Spanish)": "스페인어",
    "Português (Portuguese)": "포르투갈어"
  };

  const frFR = {
    "Tab Organizer": "Organisateur d’onglets",
    "Keep your tabs tidy and organized.": "Gardez vos onglets propres et organisés.",
    "🚀 Quick Organize": "🚀 Organisation rapide",
    "💻 Chrome AI Organize": "💻 Organisation IA Chrome",
    "✨ Online AI Organize": "✨ Organisation IA en ligne",
    "⚙️ Settings": "⚙️ Paramètres",
    "🔄 Ungroup All Tabs": "🔄 Dissocier tous les onglets",
    "Ungroup": "Dissocier",
    "OR": "OU",
    "Enter your Google Gemini API Key for AI-powered grouping.": "Saisissez votre clé API Google Gemini pour activer le regroupement par IA.",
    "Gemini API Key:": "Clé API Gemini :",
    "Paste your API Key here": "Collez votre clé API ici",
    "🔗 How to get API key": "🔗 Comment obtenir une clé API",
    "ℹ️ How to enable built-in AI": "ℹ️ Comment activer l’IA intégrée",
    "Current Tab Groups": "Groupes d’onglets actuels",
    "Loading groups…": "Chargement des groupes…",
    "Unable to load groups.": "Impossible de charger les groupes.",
    "No tab groups in this window.": "Aucun groupe d’onglets dans cette fenêtre.",
    "No groups information available.": "Aucune information de groupe disponible.",
    "Group {id}": "Groupe {id}",
    "{count} tab": "{count} onglet",
    "{count} tabs": "{count} onglets",
    "Organizing tabs quickly...": "Organisation rapide des onglets…",
    "Organizing tabs with Chrome AI...": "Organisation des onglets avec Chrome AI…",
    "Chrome AI grouping failed. Falling back to quick organize.": "Échec de l’organisation Chrome AI. Retour à l’organisation rapide.",
    "Initiating online AI organization...": "Initialisation de l’organisation IA en ligne…",
    "Please enter your Gemini API Key for AI grouping.": "Veuillez entrer votre clé API Gemini pour utiliser l’organisation IA.",
    "API Key saved successfully!": "Clé API enregistrée avec succès !",
    "API key cleared.": "Clé API effacée.",
    "Please enter a valid API Key.": "Veuillez entrer une clé API valide.",
    "Removing groups from current window...": "Suppression des groupes de cette fenêtre…",
    "An error occurred, please try again.": "Une erreur est survenue, veuillez réessayer.",
    "Unknown response from background script.": "Réponse inconnue du script d’arrière-plan.",
    "Invalid group identifier.": "Identifiant de groupe invalide.",
    "No ungrouped tabs to organize.": "Aucun onglet non groupé à organiser.",
    "No grouped tabs found.": "Aucun onglet groupé trouvé.",
    "Preparing Chrome AI model...": "Préparation du modèle Chrome AI…",
    "Classifying tabs with Chrome AI...": "Classification des onglets avec Chrome AI…",
    "Downloading Chrome AI model... {percent}%": "Téléchargement du modèle Chrome AI… {percent}%",
    "Downloading translator... {percent}%": "Téléchargement du traducteur… {percent}%",
    "Unable to open settings page.": "Impossible d’ouvrir la page des paramètres.",
    "Prompt API not supported in this browser.": "Prompt API non prise en charge sur ce navigateur.",
    "Prompt API unavailable on this device.": "Prompt API indisponible sur cet appareil.",
    "Please click again to download the model (user activation required).": "Cliquez de nouveau pour télécharger le modèle (interaction requise).",
    "Translator API is not available.": "Translator API indisponible.",
    "Language translation unavailable; keeping English.": "Traduction indisponible ; conservation de l’anglais.",
    "Grouping complete.": "Organisation terminée.",
    "Quick Organize Complete!": "Organisation rapide terminée !",
    "AI Smart Organize Complete!": "Organisation IA en ligne terminée !",
    "Chrome AI Organize Complete!": "Organisation Chrome AI terminée !",
    "Chrome AI unavailable. Used Quick Organize instead.": "Chrome AI indisponible. Organisation rapide utilisée à la place.",
    "Ungrouping selected group...": "Dissociation du groupe sélectionné…",
    "API Key Settings": "Paramètres de la clé API",
    "Manage your Google Gemini API Key. This key enables AI Smart Organize to classify tabs using page content.": "Gérez votre clé API Google Gemini. Elle permet à AI Smart Organize de classer les onglets selon le contenu des pages.",
    "Model Information": "Informations sur le modèle",
    "Grouping language": "Langue des groupes",
    "Choose the language used for tab group titles. When set to “Use browser language”, we follow Chrome’s current UI language.": "Choisissez la langue utilisée pour les titres des groupes. Avec « Utiliser la langue du navigateur », nous suivons la langue de l’interface Chrome.",
    "Gemini API Key": "Clé API Gemini",
    "Paste your API key here": "Collez votre clé API ici",
    "Save Key": "Enregistrer la clé",
    "Clear Key": "Effacer la clé",
    "Show": "Afficher",
    "Hide": "Masquer",
    "How to get a Gemini API key": "Comment obtenir une clé API Gemini",
    "How to enable built-in AI": "Comment activer l’IA intégrée",
    "Grouping language updated.": "Langue des groupes mise à jour.",
    "Failed to update language preference.": "Impossible d’enregistrer la préférence de langue.",
    "An error occurred during translation. Using English.": "Erreur pendant la traduction. Utilisation de l’anglais.",
    "Unable to load existing API key.": "Impossible de charger la clé API existante.",
    "Failed to save API key. Please try again.": "Impossible d’enregistrer la clé API. Veuillez réessayer.",
    "Failed to clear API key. Please try again.": "Impossible d’effacer la clé API. Veuillez réessayer.",
    "Please enter a valid API key before saving.": "Veuillez entrer une clé API valide avant d’enregistrer.",
    "API key saved successfully.": "Clé API enregistrée.",
    "Failed to save API key. Please try again.": "Impossible d’enregistrer la clé API. Veuillez réessayer.",
    "API key cleared.": "Clé API effacée.",
    "Failed to clear API key. Please try again.": "Impossible d’effacer la clé API. Veuillez réessayer.",
    "Use browser language": "Utiliser la langue du navigateur",
    "English": "Anglais",
    "日本語 (Japanese)": "Japonais",
    "简体中文 (Chinese Simplified)": "Chinois simplifié",
    "繁體中文 (Chinese Traditional)": "Chinois traditionnel",
    "한국어 (Korean)": "Coréen",
    "Français (French)": "Français",
    "Deutsch (German)": "Allemand",
    "Español (Spanish)": "Espagnol",
    "Português (Portuguese)": "Portugais"
  };

  const deDE = {
    "Tab Organizer": "Tab-Organizer",
    "Keep your tabs tidy and organized.": "Halte deine Tabs ordentlich und organisiert.",
    "🚀 Quick Organize": "🚀 Schnelles Ordnen",
    "💻 Chrome AI Organize": "💻 Chrome-KI-Organisation",
    "✨ Online AI Organize": "✨ Online-KI-Organisation",
    "⚙️ Settings": "⚙️ Einstellungen",
    "🔄 Ungroup All Tabs": "🔄 Alle Tabs aus Gruppen lösen",
    "Ungroup": "Gruppierung aufheben",
    "OR": "ODER",
    "Enter your Google Gemini API Key for AI-powered grouping.": "Gib deinen Google-Gemini-API-Schlüssel ein, um KI-Gruppierungen zu aktivieren.",
    "Gemini API Key:": "Gemini-API-Schlüssel:",
    "Paste your API Key here": "Füge hier deinen API-Schlüssel ein",
    "🔗 How to get API key": "🔗 So erhältst du einen API-Schlüssel",
    "ℹ️ How to enable built-in AI": "ℹ️ So aktivierst du die integrierte KI",
    "Current Tab Groups": "Aktuelle Tab-Gruppen",
    "Loading groups…": "Gruppen werden geladen …",
    "Unable to load groups.": "Gruppen konnten nicht geladen werden.",
    "No tab groups in this window.": "Keine Tab-Gruppen in diesem Fenster.",
    "No groups information available.": "Keine Gruppeninformationen verfügbar.",
    "Group {id}": "Gruppe {id}",
    "{count} tab": "{count} Tab",
    "{count} tabs": "{count} Tabs",
    "Organizing tabs quickly...": "Tabs werden schnell organisiert …",
    "Organizing tabs with Chrome AI...": "Tabs werden mit Chrome-KI organisiert …",
    "Chrome AI grouping failed. Falling back to quick organize.": "Chrome-KI konnte nicht gruppieren. Wechsel zur schnellen Organisation.",
    "Initiating online AI organization...": "Online-KI-Organisation wird gestartet …",
    "Please enter your Gemini API Key for AI grouping.": "Bitte gib deinen Gemini-API-Schlüssel für die KI-Organisation ein.",
    "API Key saved successfully!": "API-Schlüssel erfolgreich gespeichert!",
    "API key cleared.": "API-Schlüssel gelöscht.",
    "Please enter a valid API Key.": "Bitte gib einen gültigen API-Schlüssel ein.",
    "Removing groups from current window...": "Gruppen in diesem Fenster werden entfernt …",
    "An error occurred, please try again.": "Es ist ein Fehler aufgetreten. Bitte versuche es erneut.",
    "Unknown response from background script.": "Unbekannte Antwort vom Hintergrundskript.",
    "Invalid group identifier.": "Ungültige Gruppen-ID.",
    "No ungrouped tabs to organize.": "Keine ungruppierten Tabs zum Organisieren.",
    "No grouped tabs found.": "Keine gruppierten Tabs gefunden.",
    "Preparing Chrome AI model...": "Chrome-KI-Modell wird vorbereitet …",
    "Classifying tabs with Chrome AI...": "Tabs werden mit Chrome-KI klassifiziert …",
    "Downloading Chrome AI model... {percent}%": "Chrome-KI-Modell wird heruntergeladen … {percent}%",
    "Downloading translator... {percent}%": "Übersetzer wird heruntergeladen … {percent}%",
    "Unable to open settings page.": "Einstellungsseite konnte nicht geöffnet werden.",
    "Prompt API not supported in this browser.": "Prompt API wird von diesem Browser nicht unterstützt.",
    "Prompt API unavailable on this device.": "Prompt API ist auf diesem Gerät nicht verfügbar.",
    "Please click again to download the model (user activation required).": "Bitte klicke erneut, um das Modell herunterzuladen (Interaktion erforderlich).",
    "Translator API is not available.": "Translator API ist nicht verfügbar.",
    "Language translation unavailable; keeping English.": "Sprachübersetzung nicht verfügbar; Englisch bleibt erhalten.",
    "Grouping complete.": "Organisation abgeschlossen.",
    "Quick Organize Complete!": "Schnelle Organisation abgeschlossen!",
    "AI Smart Organize Complete!": "Online-KI-Organisation abgeschlossen!",
    "Chrome AI Organize Complete!": "Chrome-KI-Organisation abgeschlossen!",
    "Chrome AI unavailable. Used Quick Organize instead.": "Chrome-KI nicht verfügbar. Stattdessen schnelle Organisation verwendet.",
    "Ungrouping selected group...": "Ausgewählte Gruppe wird aufgelöst …",
    "API Key Settings": "API-Schlüssel-Einstellungen",
    "Manage your Google Gemini API Key. This key enables AI Smart Organize to classify tabs using page content.": "Verwalte deinen Google-Gemini-API-Schlüssel. Damit kann AI Smart Organize Tabs anhand des Seiteninhalts klassifizieren.",
    "Model Information": "Modellinformationen",
    "Grouping language": "Sprache der Gruppen",
    "Choose the language used for tab group titles. When set to “Use browser language”, we follow Chrome’s current UI language.": "Wähle die Sprache für Gruppentitel. Bei „Browsersprache verwenden“ nutzen wir die aktuelle Chrome-Oberfläche.",
    "Gemini API Key": "Gemini-API-Schlüssel",
    "Paste your API key here": "Füge hier deinen API-Schlüssel ein",
    "Save Key": "Schlüssel speichern",
    "Clear Key": "Schlüssel löschen",
    "Show": "Anzeigen",
    "Hide": "Ausblenden",
    "How to get a Gemini API key": "So erhältst du einen Gemini-API-Schlüssel",
    "How to enable built-in AI": "So aktivierst du die integrierte KI",
    "Grouping language updated.": "Gruppensprache aktualisiert.",
    "Failed to update language preference.": "Sprachpräferenz konnte nicht gespeichert werden.",
    "An error occurred during translation. Using English.": "Fehler bei der Übersetzung. Englisch wird verwendet.",
    "Unable to load existing API key.": "Vorhandener API-Schlüssel konnte nicht geladen werden.",
    "Failed to save API key. Please try again.": "API-Schlüssel konnte nicht gespeichert werden. Bitte erneut versuchen.",
    "Failed to clear API key. Please try again.": "API-Schlüssel konnte nicht gelöscht werden. Bitte erneut versuchen.",
    "Please enter a valid API key before saving.": "Bitte gib vor dem Speichern einen gültigen API-Schlüssel ein.",
    "API key saved successfully.": "API-Schlüssel gespeichert.",
    "Failed to save API key. Please try again.": "API-Schlüssel konnte nicht gespeichert werden. Bitte erneut versuchen.",
    "API key cleared.": "API-Schlüssel gelöscht.",
    "Failed to clear API key. Please try again.": "API-Schlüssel konnte nicht gelöscht werden. Bitte erneut versuchen.",
    "Use browser language": "Browsersprache verwenden",
    "English": "Englisch",
    "日本語 (Japanese)": "Japanisch",
    "简体中文 (Chinese Simplified)": "Vereinfachtes Chinesisch",
    "繁體中文 (Chinese Traditional)": "Traditionelles Chinesisch",
    "한국어 (Korean)": "Koreanisch",
    "Français (French)": "Französisch",
    "Deutsch (German)": "Deutsch",
    "Español (Spanish)": "Spanisch",
    "Português (Portuguese)": "Portugiesisch"
  };

  const esES = {
    "Tab Organizer": "Organizador de pestañas",
    "Keep your tabs tidy and organized.": "Mantén tus pestañas ordenadas y organizadas.",
    "🚀 Quick Organize": "🚀 Organización rápida",
    "💻 Chrome AI Organize": "💻 Organización con IA de Chrome",
    "✨ Online AI Organize": "✨ Organización IA en línea",
    "⚙️ Settings": "⚙️ Configuración",
    "🔄 Ungroup All Tabs": "🔄 Desagrupar todas las pestañas",
    "Ungroup": "Desagrupar",
    "OR": "O",
    "Enter your Google Gemini API Key for AI-powered grouping.": "Ingresa tu clave de API de Google Gemini para agrupar con IA.",
    "Gemini API Key:": "Clave API de Gemini:",
    "Paste your API Key here": "Pega aquí tu clave API",
    "🔗 How to get API key": "🔗 Cómo obtener una clave API",
    "ℹ️ How to enable built-in AI": "ℹ️ Cómo habilitar la IA integrada",
    "Current Tab Groups": "Grupos de pestañas actuales",
    "Loading groups…": "Cargando grupos…",
    "Unable to load groups.": "No se pueden cargar los grupos.",
    "No tab groups in this window.": "No hay grupos de pestañas en esta ventana.",
    "No groups information available.": "No hay información de grupos disponible.",
    "Group {id}": "Grupo {id}",
    "{count} tab": "{count} pestaña",
    "{count} tabs": "{count} pestañas",
    "Organizing tabs quickly...": "Organizando pestañas rápidamente...",
    "Organizing tabs with Chrome AI...": "Organizando pestañas con la IA de Chrome...",
    "Chrome AI grouping failed. Falling back to quick organize.": "La IA de Chrome no pudo agrupar. Se cambió a organización rápida.",
    "Initiating online AI organization...": "Iniciando organización IA en línea...",
    "Please enter your Gemini API Key for AI grouping.": "Ingresa tu clave API de Gemini para usar la organización IA.",
    "API Key saved successfully!": "¡Clave API guardada con éxito!",
    "API key cleared.": "Clave API eliminada.",
    "Please enter a valid API Key.": "Ingresa una clave API válida.",
    "Removing groups from current window...": "Eliminando grupos de esta ventana...",
    "An error occurred, please try again.": "Ocurrió un error, inténtalo de nuevo.",
    "Unknown response from background script.": "Respuesta desconocida del script en segundo plano.",
    "Invalid group identifier.": "Identificador de grupo no válido.",
    "No ungrouped tabs to organize.": "No hay pestañas sin agrupar para organizar.",
    "No grouped tabs found.": "No se encontraron pestañas agrupadas.",
    "Preparing Chrome AI model...": "Preparando el modelo de la IA de Chrome...",
    "Classifying tabs with Chrome AI...": "Clasificando pestañas con la IA de Chrome...",
    "Downloading Chrome AI model... {percent}%": "Descargando el modelo de la IA de Chrome... {percent}%",
    "Downloading translator... {percent}%": "Descargando el traductor... {percent}%",
    "Unable to open settings page.": "No se pudo abrir la página de configuración.",
    "Prompt API not supported in this browser.": "Este navegador no admite Prompt API.",
    "Prompt API unavailable on this device.": "Prompt API no está disponible en este dispositivo.",
    "Please click again to download the model (user activation required).": "Haz clic de nuevo para descargar el modelo (se requiere interacción).",
    "Translator API is not available.": "Translator API no está disponible.",
    "Language translation unavailable; keeping English.": "Traducción no disponible; se mantiene el inglés.",
    "Grouping complete.": "Organización completada.",
    "Quick Organize Complete!": "¡Organización rápida completada!",
    "AI Smart Organize Complete!": "¡Organización IA en línea completada!",
    "Chrome AI Organize Complete!": "¡Organización de Chrome IA completada!",
    "Chrome AI unavailable. Used Quick Organize instead.": "La IA de Chrome no está disponible. Se usó la organización rápida.",
    "Ungrouping selected group...": "Desagrupando el grupo seleccionado...",
    "API Key Settings": "Configuración de la clave API",
    "Manage your Google Gemini API Key. This key enables AI Smart Organize to classify tabs using page content.": "Administra tu clave API de Google Gemini. Permite que AI Smart Organize clasifique pestañas según el contenido.",
    "Model Information": "Información del modelo",
    "Grouping language": "Idioma de agrupación",
    "Choose the language used for tab group titles. When set to “Use browser language”, we follow Chrome’s current UI language.": "Elige el idioma que se usará para los nombres de los grupos. Con «Usar idioma del navegador», seguimos el idioma actual de Chrome.",
    "Gemini API Key": "Clave API de Gemini",
    "Paste your API key here": "Pega aquí tu clave API",
    "Save Key": "Guardar clave",
    "Clear Key": "Borrar clave",
    "Show": "Mostrar",
    "Hide": "Ocultar",
    "How to get a Gemini API key": "Cómo obtener una clave API de Gemini",
    "How to enable built-in AI": "Cómo habilitar la IA integrada",
    "Grouping language updated.": "Idioma de agrupación actualizado.",
    "Failed to update language preference.": "No se pudo guardar la preferencia de idioma.",
    "An error occurred during translation. Using English.": "Error durante la traducción. Se usará el inglés.",
    "Unable to load existing API key.": "No se pudo cargar la clave API existente.",
    "Failed to save API key. Please try again.": "No se pudo guardar la clave API. Inténtalo de nuevo.",
    "Failed to clear API key. Please try again.": "No se pudo borrar la clave API. Inténtalo de nuevo.",
    "Please enter a valid API key before saving.": "Ingresa una clave API válida antes de guardar.",
    "API key saved successfully.": "Clave API guardada.",
    "Failed to save API key. Please try again.": "No se pudo guardar la clave API. Inténtalo de nuevo.",
    "API key cleared.": "Clave API borrada.",
    "Failed to clear API key. Please try again.": "No se pudo borrar la clave API. Inténtalo de nuevo.",
    "Use browser language": "Usar idioma del navegador",
    "English": "Inglés",
    "日本語 (Japanese)": "Japonés",
    "简体中文 (Chinese Simplified)": "Chino simplificado",
    "繁體中文 (Chinese Traditional)": "Chino tradicional",
    "한국어 (Korean)": "Coreano",
    "Français (French)": "Francés",
    "Deutsch (German)": "Alemán",
    "Español (Spanish)": "Español",
    "Português (Portuguese)": "Portugués"
  };

  const ptBR = {
    "Tab Organizer": "Organizador de guias",
    "Keep your tabs tidy and organized.": "Mantenha suas guias arrumadas e organizadas.",
    "🚀 Quick Organize": "🚀 Organização rápida",
    "💻 Chrome AI Organize": "💻 Organização com IA do Chrome",
    "✨ Online AI Organize": "✨ Organização IA online",
    "⚙️ Settings": "⚙️ Configurações",
    "🔄 Ungroup All Tabs": "🔄 Desagrupar todas as guias",
    "Ungroup": "Desagrupar",
    "OR": "OU",
    "Enter your Google Gemini API Key for AI-powered grouping.": "Insira sua chave da API Google Gemini para agrupar com IA.",
    "Gemini API Key:": "Chave da API Gemini:",
    "Paste your API Key here": "Cole sua chave API aqui",
    "🔗 How to get API key": "🔗 Como obter a chave API",
    "ℹ️ How to enable built-in AI": "ℹ️ Como ativar a IA integrada",
    "Current Tab Groups": "Grupos de guias atuais",
    "Loading groups…": "Carregando grupos…",
    "Unable to load groups.": "Não foi possível carregar os grupos.",
    "No tab groups in this window.": "Não há grupos de guias nesta janela.",
    "No groups information available.": "Nenhuma informação de grupo disponível.",
    "Group {id}": "Grupo {id}",
    "{count} tab": "{count} guia",
    "{count} tabs": "{count} guias",
    "Organizing tabs quickly...": "Organizando guias rapidamente...",
    "Organizing tabs with Chrome AI...": "Organizando guias com a IA do Chrome...",
    "Chrome AI grouping failed. Falling back to quick organize.": "Falha na organização com a IA do Chrome. Voltando para organização rápida.",
    "Initiating online AI organization...": "Iniciando organização IA online...",
    "Please enter your Gemini API Key for AI grouping.": "Informe sua chave API Gemini para usar a organização com IA.",
    "API Key saved successfully!": "Chave API salva com sucesso!",
    "API key cleared.": "Chave API apagada.",
    "Please enter a valid API Key.": "Informe uma chave API válida.",
    "Removing groups from current window...": "Removendo grupos desta janela...",
    "An error occurred, please try again.": "Ocorreu um erro. Tente novamente.",
    "Unknown response from background script.": "Resposta desconhecida do script em segundo plano.",
    "Invalid group identifier.": "Identificador de grupo inválido.",
    "No ungrouped tabs to organize.": "Nenhuma guia sem grupo para organizar.",
    "No grouped tabs found.": "Nenhuma guia agrupada encontrada.",
    "Preparing Chrome AI model...": "Preparando o modelo da IA do Chrome...",
    "Classifying tabs with Chrome AI...": "Classificando guias com a IA do Chrome...",
    "Downloading Chrome AI model... {percent}%": "Baixando o modelo da IA do Chrome... {percent}%",
    "Downloading translator... {percent}%": "Baixando o tradutor... {percent}%",
    "Unable to open settings page.": "Não foi possível abrir a página de configurações.",
    "Prompt API not supported in this browser.": "Este navegador não é compatível com a Prompt API.",
    "Prompt API unavailable on this device.": "Prompt API indisponível neste dispositivo.",
    "Please click again to download the model (user activation required).": "Clique novamente para baixar o modelo (é necessária interação).",
    "Translator API is not available.": "Translator API indisponível.",
    "Language translation unavailable; keeping English.": "Tradução indisponível; mantendo o inglês.",
    "Grouping complete.": "Organização concluída.",
    "Quick Organize Complete!": "Organização rápida concluída!",
    "AI Smart Organize Complete!": "Organização IA online concluída!",
    "Chrome AI Organize Complete!": "Organização com IA do Chrome concluída!",
    "Chrome AI unavailable. Used Quick Organize instead.": "IA do Chrome indisponível. Organização rápida utilizada.",
    "Ungrouping selected group...": "Desagrupando o grupo selecionado...",
    "API Key Settings": "Configurações da chave API",
    "Manage your Google Gemini API Key. This key enables AI Smart Organize to classify tabs using page content.": "Gerencie sua chave da API Google Gemini. Ela permite que o AI Smart Organize classifique guias pelo conteúdo.",
    "Model Information": "Informações do modelo",
    "Grouping language": "Idioma de agrupamento",
    "Choose the language used for tab group titles. When set to “Use browser language”, we follow Chrome’s current UI language.": "Escolha o idioma usado nos títulos dos grupos. Em “Usar idioma do navegador”, seguimos o idioma atual do Chrome.",
    "Gemini API Key": "Chave da API Gemini",
    "Paste your API key here": "Cole sua chave API aqui",
    "Save Key": "Salvar chave",
    "Clear Key": "Limpar chave",
    "Show": "Mostrar",
    "Hide": "Ocultar",
    "How to get a Gemini API key": "Como obter uma chave API Gemini",
    "How to enable built-in AI": "Como ativar a IA integrada",
    "Grouping language updated.": "Idioma de agrupamento atualizado.",
    "Failed to update language preference.": "Não foi possível salvar a preferência de idioma.",
    "An error occurred during translation. Using English.": "Erro durante a tradução. Inglês mantido.",
    "Unable to load existing API key.": "Não foi possível carregar a chave API existente.",
    "Failed to save API key. Please try again.": "Não foi possível salvar a chave API. Tente novamente.",
    "Failed to clear API key. Please try again.": "Não foi possível limpar a chave API. Tente novamente.",
    "Please enter a valid API key before saving.": "Informe uma chave API válida antes de salvar.",
    "API key saved successfully.": "Chave API salva.",
    "Failed to save API key. Please try again.": "Não foi possível salvar a chave API. Tente novamente.",
    "API key cleared.": "Chave API limpa.",
    "Failed to clear API key. Please try again.": "Não foi possível limpar a chave API. Tente novamente.",
    "Use browser language": "Usar idioma do navegador",
    "English": "Inglês",
    "日本語 (Japanese)": "Japonês",
    "简体中文 (Chinese Simplified)": "Chinês simplificado",
    "繁體中文 (Chinese Traditional)": "Chinês tradicional",
    "한국어 (Korean)": "Coreano",
    "Français (French)": "Francês",
    "Deutsch (German)": "Alemão",
    "Español (Spanish)": "Espanhol",
    "Português (Portuguese)": "Português"
  };

  const LANGUAGE_TEXTS = {
    en: {},
    "en-us": {},
    "en-gb": {}
  };

  function register(code, map) {
    LANGUAGE_TEXTS[code] = map;
  }

  register("zh-cn", zhCN);
  register("zh", zhCN);
  register("zh-hans", zhCN);
  register("zh-sg", zhCN);

  register("zh-tw", zhTW);
  register("zh-hant", zhTW);
  register("zh-hk", zhTW);
  register("zh-mo", zhTW);

  register("ja", jaJP);
  register("ja-jp", jaJP);

  register("ko", koKR);
  register("ko-kr", koKR);

  register("fr", frFR);
  register("fr-fr", frFR);
  register("fr-ca", frFR);

  register("de", deDE);
  register("de-de", deDE);
  register("de-at", deDE);
  register("de-ch", deDE);

  register("es", esES);
  register("es-es", esES);
  register("es-419", esES);
  register("es-mx", esES);

  register("pt", ptBR);
  register("pt-br", ptBR);
  register("pt-pt", ptBR);

  const ALL_TEXT = Array.from(new Set(Object.values(TEXT_MAP)));

  function getLanguageText(code) {
    if (!code) return LANGUAGE_TEXTS.en || {};
    const lower = code.toLowerCase();
    if (LANGUAGE_TEXTS[lower]) return LANGUAGE_TEXTS[lower];
    const base = lower.split("-")[0];
    if (LANGUAGE_TEXTS[base]) return LANGUAGE_TEXTS[base];
    return LANGUAGE_TEXTS.en || {};
  }

  window.I18N = window.I18N || {};
  window.I18N.TEXT_MAP = TEXT_MAP;
  window.I18N.ALL_TEXT = ALL_TEXT;
  window.I18N.LANGUAGE_TEXTS = LANGUAGE_TEXTS;
  window.I18N.getDefault = function (key) {
    return TEXT_MAP[key] || "";
  };
  window.I18N.getLanguageText = getLanguageText;
})();
